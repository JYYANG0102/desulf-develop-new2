### 水平衡系统的业务架构分析

一个水平衡系统的监视与分析可以分为三种情况：

- 1.) 系统当前运行情况的展示或监视（Surveillance）；
- 2.) 系统历史运行情况的分析或统计(Statistic)；
- 3.) 系统中的运行参数配置(Configuration)；

首先来分析这三种情况的数据来源。第一种情况，在前端显示设备上展示的数据
是来源于实时的系统数据。这些数据通常不在前端存储。在第二种情况中，数据是来
自于后端的历史存储设备。第三种情况，是一些少量数据人工输入，也需要在后端存
储。

我们来对第一种情况做技术架构分析。实时的数据更多的少量高频次到
达前端显示画面。所以，我们采用了MQTT 消息队列技术来快速推送和分发来自于各
个传感器的实时样本数据。前端的界面直接从MQTT 消息队列中接收实时数据并展示
在监视界面上。

监视（Surveillance）的界面，由三个部分组成，如图4 所示。工艺过程图（Figure），
重要的实时显示参数表(Table) 和近期参数曲线(Curves)。其中，工艺过程图使用SVG
来绘制，工艺过程重要参数表由HTML 的table 标签来显示，参数曲线来Apache Echarts
来实现。这三个部分的显示动态数据均来自于前面提到的MQTT 消息队列。

本部分的代码完成了如何从技术上实现以上的图、表和曲线三部分。